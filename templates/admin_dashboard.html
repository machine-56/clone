<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
  <meta charset="UTF-8">
  <title>Admin Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://kit.fontawesome.com/0368c72d3f.js" crossorigin="anonymous"></script>
  <style>
    body {
      background: #f8f9fa;
      font-family: Poppins, sans-serif;
    }
    .heading {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 2px solid #000;
      padding-bottom: 0.5rem;
      margin-bottom: 2rem;
    }
    .heading h2 {
      margin: 0;
      font-weight: 600;
    }
    .heading span {
      font-size: 1rem;
      color: #6c757d;
    }
    .logout-btn {
      border: 1px solid #000;
      color: #000;
      font-weight: 500;
      transition: all 0.2s ease;
    }
    .logout-btn:hover {
      background: #000;
      color: #fff;
    }
  </style>
</head>
<body>
  <div class="container py-4">
    <div class="heading">
      <div>
        <h2>Connectly</h2>
        <span>Admin Dashboard</span>
      </div>
      <a href="/ad/logout/" class="btn logout-btn">
        <i class="fa-solid fa-arrow-right-from-bracket"></i>
      </a>
    </div>

    <h4 class="mb-4">Meetings Dashboard</h4>
    <div class="table-responsive">
      <table class="table table-striped align-middle">
        <thead class="table-dark">
          <tr>
            <th>Host Name</th>
            <th>Designation</th>
            <th>Meeting Code</th>
            <th>Password</th>
            <!-- <th>Status</th> -->
            <th>Started On</th>
          </tr>
        </thead>
        <tbody>
          {% for m in page_obj %}
          <tr onclick="window.location.href='/ad/meeting/{{m.id}}/'" style="cursor:pointer;">
            <td>{{ m.host_name }}</td>
            <td>{{ m.host_designation }}</td>
            <td>{{ m.meeting_code }}</td>
            <td>{{ m.meeting_pwd }}</td>
            <!-- <td>
              {% if m.host_status == 0 %} Not Joined 
              {% elif m.host_status == 1 %} Joined 
              {% else %} Ended {% endif %}
            </td> -->
            <td>{{ m.started_on|date:"Y-m-d H:i" }}</td>
          </tr>
          {% empty %}
          <tr><td colspan="6" class="text-center">No meetings found</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <nav>
      <ul class="pagination justify-content-center">
        {% if page_obj.has_previous %}
          <li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}">Previous</a></li>
        {% endif %}
        <li class="page-item disabled"><a class="page-link">Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</a></li>
        {% if page_obj.has_next %}
          <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a></li>
        {% endif %}
      </ul>
    </nav>
  </div>
</body>
</html>
